node('jenkins-slave') {

    enviroment {
        STR = 'hello'
    }

    stage('Build') {
        steps {
            sh "echo ${STR}"
            sh (script: """
            git clone https://github.com/vking34/devops-references.git
            cd ./devops-references/ci-cd/sample-app/
            
            docker build . -t sample-app:1.8
            """)
        }
    }
    
     stage('Test') {
        sh(script: """
        echo "done!"
        """)
    }
}